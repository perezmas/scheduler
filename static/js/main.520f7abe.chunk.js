(this["webpackJsonpfinal-project-starter"]=this["webpackJsonpfinal-project-starter"]||[]).push([[0],{113:function(e,t,r){},114:function(e,t,r){},128:function(e,t,r){},130:function(e,t,r){"use strict";r.r(t);var s=r(0),n=r.n(s),a=r(12),c=r.n(a),i=(r(89),r(10)),u=r(57),o=r(11),d=(r(113),r(114),r(115),r(31)),l=r(13),j=r(19);function m(e,t){for(var r=0;r<e.length;r++)if(e[r].uuid===t)return r;return-1}function b(e,t){var r=e.map((function(e){return Object(i.a)({},e)}));switch(t.type){case"ADD SEMESTER":var s=t,n=m(r,s.uuid),a=r[n],c=(new Array).concat(a.semesters);return c.push({name:s.name,start:s.start,end:s.end,uuid:s.semesterUuid}),r[n]={index:r[n].index,uuid:r[n].uuid,semesters:c},r;case"ADD YEAR":var u=t,o={index:u.index,uuid:u.uuid,semesters:new Array};return r.push(o),r;case"DELETE SEMESTER":var d=t,l=m(r,d.uuid),j=r[l].semesters.filter((function(e){return e.uuid!==d.semesterUuid}));return r[l]={index:r[l].index,uuid:r[l].uuid,semesters:j},r;case"DELETE YEAR":var b=t;return r.filter((function(e){return e.uuid!==b.uuid}));default:throw Error("".concat(t.type," not implemented!"))}}var h=function(e){var t=Object(s.useReducer)(b,void 0,void 0===e?function(){return new Array}:e),r=Object(o.a)(t,2),n=r[0],a=r[1],c=function(e,t){a({type:"ADD YEAR",uuid:e,index:t})},i=function(e,t){a({type:"DELETE SEMESTER",uuid:e,semesterUuid:t})},u=function(e){a({type:"DELETE YEAR",uuid:e})};return{value:n,push:c,putSemester:function(e,t,r,s,n){a({type:"ADD SEMESTER",uuid:e,name:n,start:r,end:s,semesterUuid:t})},removeSemester:i,removeYears:function(e){!function(e,t,r){if(void 0!==r&&""!==r)t(r);else if(void 0===r||""===r){var s,n=Object(j.a)(e);try{for(n.s();!(s=n.n()).done;)t(s.value.uuid)}catch(a){n.e(a)}finally{n.f()}}}(n,u,e)},clearYears:function(e){!function(e,t,r,s,n){if(void 0!==n&&-1!==m(e,n)){var a,c=Object(j.a)(e[m(e,n)].semesters);try{for(c.s();!(a=c.n()).done;)r(n,a.value.uuid)}catch(p){c.e(p)}finally{c.f()}}else if(void 0===n){var i,u=new Array,o=Object(j.a)(e);try{for(o.s();!(i=o.n()).done;){var d=i.value;u.push({semesters:[],index:d.index,uuid:d.uuid}),s(d.uuid)}}catch(p){o.e(p)}finally{o.f()}for(var l=0,b=u;l<b.length;l++){var h=b[l];t(h.uuid,h.index)}}}(n,c,i,u,e)}}},p=r(150);function f(e,t){var r=e.map((function(e){return{error:e.error,message:e.message,source:e.source,problemType:e.problemType}}));switch(t.type){case"RESOLVE-TYPE":for(var s=t,n=0;n<r.length;n++)r[n].problemType===s.target&&r.splice(n,1);return r;case"ADD":var a=t;return r.push(a.problem),r;case"CLEAR":for(var c=t,i=new Array,u=0;u<r.length;u++)r[u].source!==c.source&&i.push(r[u]);return i}}function O(){return new Array}var v=r(1);function x(e){if(null!==e.problems){var t=[Object(v.jsxs)("div",{className:"error-counter",children:[e.problems.length," ",1===e.problems.length?"error":"errors"]},0)];return c.a.createPortal(Object(v.jsx)("div",{className:"error-modal",children:Object(v.jsx)("div",{className:"error-stack",children:t.concat(e.problems.map((function(e,t){return Object(v.jsx)("span",{className:e.error?"error":"warning","data-testid":e.error?"error":"warning",children:e.message},t+1)})))})}),document.getElementById("modal-view")||document.body)}return Object(v.jsx)("span",{"data-testid":"no-errors"})}function g(e,t){var r=e.map((function(e){return Object(i.a)({},e)}));switch(t.type){case"ADD COURSE":var s=t;return r.push(Object(i.a)({},s.newCourse)),r;case"REMOVE COURSE":var n=m(r,t.uuid);return-1!==n&&r.splice(n,1),r;case"UPDATE COURSE":var a=t,c=m(r,a.id);return r.splice(c,1),r.push(a.payload),r;default:throw new Error("Unknown action type")}}var y=function(e){return void 0===e?[]:e};var C=function(e){var t=Object(s.useReducer)(g,e,y),r=Object(o.a)(t,2),n=r[0],a=r[1];return{courseList:n,removeCourse:function(e){a({type:"REMOVE COURSE",uuid:e})},push:function(e){var t=m(n,e.uuid);a(-1!==t?{type:"UPDATE COURSE",id:e.uuid,payload:e}:{type:"ADD COURSE",newCourse:e})},move:function(e,t){var r=m(n,e);if(-1!=r){var s=Object(i.a)({},n[r]);s.semester=t,a({type:"UPDATE COURSE",id:e,payload:s})}}}},S=r(35),w=r(139),E=r(94);function k(e,t,r,s){return null!==e&&null!==t?function(e,t,r){var s=new Array;e.getTime()>=t.getTime()?s.push({error:!0,source:"semester-form",message:"Semesters cannot start after they end!",problemType:"semester-starts-after-ends"}):t.getTime()-e.getTime()<=18144e5&&s.push({error:!1,source:"semester-form",message:"Semester is less than three weeks long; is this a mistake?",problemType:"short-semester"});var n,a=Object(j.a)(r);try{for(a.s();!(n=a.n()).done;){var c=n.value;t.getTime()>=c.start.getTime()&&c.end.getTime()>=e.getTime()&&s.push({error:!0,source:"semester-form",message:"Semester overlaps ".concat(c.name),problemType:"semester-overlap"})}}catch(i){a.e(i)}finally{a.f()}return s}(e,t,r):null!==e?D(e,r,s):null!==t?D(t,r,s):[]}function D(e,t,r){var s,n=new Array,a=Object(j.a)(t);try{for(a.s();!(s=a.n()).done;){var c=s.value;e.getTime()>c.start.getTime()&&e.getTime()<c.end.getTime()&&n.push({error:!0,source:"semester-form",message:"".concat(r," overlaps with ").concat(c.name),problemType:"semester-".concat(r,"-overlap")})}}catch(i){a.e(i)}finally{a.f()}return n}var q=r(138),T=r(152),N=r(140),A=r(91),R=r.n(A);function I(e){return Object(v.jsx)(q.a,{fluid:!0,children:Object(v.jsx)(R.a,{trigger:Object(v.jsxs)("div",{"data-testid":"Year ".concat(e.index," label"),className:"year-collapsible-header",children:["Year ".concat(e.index),Object(v.jsx)("div",{onClick:function(e){e.stopPropagation()},children:Object(v.jsxs)(S.a,{as:w.a,children:[Object(v.jsx)(E.a,{onClick:e.clearYear,"data-testid":"clear-year ".concat(e.index),variant:"success",children:"Clear Year"}),Object(v.jsx)(S.a.Toggle,{split:!0,variant:"success",id:"dropdown-split-basic","data-testid":"open-dropdown"}),Object(v.jsx)(S.a.Menu,{children:Object(v.jsx)(S.a.Item,{style:{color:"#DC3E45"},onClick:e.removeYear,"data-testid":"remove-year ".concat(e.index),children:"Remove Year"})})]})})]}),transitionTime:200,children:Object(v.jsx)(T.a,{className:" p-2",children:Object(v.jsx)(N.a,{md:4,style:{overflow:"auto",padding:"1.25rem 1.35rem"},"data-testid":"collapsible-content",children:e.children})})})})}var L=r(65),P=r(142),Y=r(96),U=r(147),F=function(e){return e.isOpen?c.a.createPortal(Object(v.jsx)("div",{children:Object(v.jsxs)("div",{className:"modal-add-course","data-testid":"modal-add-course",children:[Object(v.jsx)(E.a,{variant:"danger",onClick:e.onClickClose,"data-testid":"close-course-form",children:"Cancel"}),Object(v.jsxs)(U.a,{onSubmit:e.onClickSubmit,"data-testid":"course-form",children:[Object(v.jsxs)(N.a,{className:"mb-3",children:[Object(v.jsxs)(U.a.Group,{className:"mb-3",as:L.a,controlId:"courseName",children:[Object(v.jsx)(U.a.Label,{children:"Course Name"}),Object(v.jsx)(U.a.Control,{type:"text",placeholder:"Enter Course Name","data-testid":"courseNameField",name:"courseName",value:e.defaultValues.name,onChange:e.onChange}),Object(v.jsxs)(U.a.Text,{className:"text-muted",children:["You can find this from"," ",Object(v.jsx)("a",{href:"https://my.udel.edu/task/all/courses",children:"this"})," ","course search."]})]}),Object(v.jsxs)(U.a.Group,{className:"mb-3",as:L.a,controlId:"courseID",children:[Object(v.jsx)(U.a.Label,{children:"Course ID"}),Object(v.jsxs)(U.a.Control,{as:"select",name:"courseID","aria-label":"dropdown with multiple course ids to choose from",onChange:e.onChange,defaultValue:e.defaultValues.id,children:[Object(v.jsx)("option",{children:e.defaultValues.id.length>0?e.defaultValues.id:"Choose a course ID"}),e.requirements.map((function(e){return Object(v.jsx)("option",{value:e,children:e},e)}))]}),Object(v.jsx)(U.a.Text,{className:"text-muted",children:"This is used to check requirements. If you don't see a course add it's course ID in the requirements page instead."})]})]}),Object(v.jsxs)(N.a,{children:[Object(v.jsxs)(U.a.Group,{className:"mb-3",as:L.a,controlId:"courseCredits",children:[Object(v.jsx)(U.a.Label,{children:"Number of credits"}),Object(v.jsx)(U.a.Control,{type:"number",name:"courseCredits",placeholder:"eg. 3",value:e.defaultValues.credits,onChange:e.onChange})]}),Object(v.jsxs)(U.a.Group,{className:"mb-3",as:L.a,children:[Object(v.jsx)(U.a.Label,{children:"Select Corequisites"}),e.courses.length>0?e.courses.filter((function(t){return t.id!=e.defaultValues.id})).map((function(t){return Object(v.jsx)(U.a.Check,{"data-testid":"co-".concat(t.name),type:"checkbox",label:t.name,name:"courseCorequisites",value:t.id,checked:e.defaultValues.coreqs.includes(t.id),onChange:e.onChange},t.uuid)})):Object(v.jsx)("div",{children:" No courses to choose from. "})]}),Object(v.jsxs)(U.a.Group,{className:"mb-3",as:L.a,children:[Object(v.jsx)(U.a.Label,{children:"Select Prerequisites"}),e.courses.length>0?e.courses.filter((function(t){return t.id!=e.defaultValues.id})).map((function(t){return Object(v.jsx)(U.a.Check,{"data-testid":"pre-".concat(t.name),type:"checkbox",label:t.name,name:"coursePrerequisites",value:t.id,checked:e.defaultValues.prereqs.includes(t.id),onChange:e.onChange},t.uuid)})):Object(v.jsx)("div",{children:" No courses to choose from. "})]})]}),Object(v.jsxs)(U.a.Group,{className:"mb-3",controlId:"courseDescription",children:[Object(v.jsx)(U.a.Label,{children:"Course Description (Optional) "}),Object(v.jsx)(U.a.Control,{name:"courseDescription",as:"textarea",placeholder:"enter the course description here",value:e.defaultValues.description,onChange:e.onChange,style:{height:"100px"}})]}),Object(v.jsx)(E.a,{variant:"success",type:"submit","data-testid":"submit-course-button",children:e.isEditing?"Edit Course":"Add Course"})]})]})}),document.getElementById("modal-view")||document.body):null},M=r(148),V=function(e){var t=Object(M.a)((function(){return{type:"COURSE",item:{uuid:e.uuid}}}),[e.uuid]),r=Object(o.a)(t,2)[1],s=n.a.forwardRef((function(e,t){return Object(v.jsx)("a",{className:"course-kebab-menu","data-testid":"course-dropdown-toggle",href:"",ref:t,onClick:function(t){t.preventDefault(),e.onClick&&e.onClick(t)},children:e.children})}));return s.displayName="CustomToggle",Object(v.jsxs)("div",{ref:r,draggable:!0,"data-testid":"Course ".concat(e.id,": ").concat(e.name),className:"course",children:[Object(v.jsx)("div",{style:{display:"inline-block"},children:"".concat(e.credits," ").concat(e.name)}),Object(v.jsxs)(S.a,{style:{display:"inline-block"},children:[Object(v.jsx)(S.a.Toggle,{as:s,children:Object(v.jsx)("i",{className:"fa fa-ellipsis-v","data-testid":"course-dropdown"})}),Object(v.jsxs)(S.a.Menu,{children:[Object(v.jsx)(S.a.Item,{className:"trigger","data-testid":"edit-course-button",onClick:function(){e.onClickEdit(e.uuid)},children:"Edit"}),Object(v.jsx)(S.a.Item,{style:{color:"#DC3E45"},className:"trigger","data-testid":"remove-course-".concat(e.id),onClick:function(){e.removeCourse(e.uuid)},children:"Remove"})]})]})]})};function B(e){return{id:"",name:"",description:"",credits:0,semester:e,coreqs:[],prereqs:[],uuid:Object(p.a)()}}var G=n.a.forwardRef((function(e,t){var r=Object(s.useState)((function(){return B(e.uuid)})),n=Object(o.a)(r,2),a=n[0],c=n[1],d=Object(s.useState)(!1),l=Object(o.a)(d,2),j=l[0],b=l[1],h=Object(s.useState)(!1),p=Object(o.a)(h,2),f=p[0],O=p[1],x=function(t){c(e.courses[m(e.courses,t)]),b(!0),O(!0)},g=Object(s.useMemo)((function(){return e.courses.filter((function(t){return t.semester===e.uuid}))}),[e.courses]),y=Object(s.useMemo)((function(){return g.reduce((function(e,t){return{id:"",description:"",name:"",credits:e.credits+t.credits,semester:"",coreqs:[],prereqs:[],uuid:""}}),{id:"",description:"",name:"",credits:0,coreqs:[],prereqs:[],semester:"",uuid:""}).credits}),[g]);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(F,{courses:e.courses,requirements:e.requirements,defaultValues:a,isEditing:f,isOpen:j,onClickClose:function(){b(!1),O(!1),c(B(e.uuid))},onClickSubmit:function(t){!function(t){t.preventDefault(),e.push(Object(i.a)({},a)),f||c(B(e.uuid))}(t)},onChange:function(e){var t=Object(i.a)({},a);switch(e.target.name){case"courseName":t.name=e.target.value;break;case"courseID":t.id=e.target.value;break;case"courseDescription":t.description=e.target.value;break;case"courseCredits":t.credits=parseInt(e.target.value);break;case"courseCorequisites":t.coreqs=e.target.checked?[].concat(Object(u.a)(t.coreqs),[e.target.value]):t.coreqs.filter((function(t){return t!==e.target.value}));break;case"coursePrerequisites":t.prereqs=e.target.checked?[].concat(Object(u.a)(t.prereqs),[e.target.value]):t.prereqs.filter((function(t){return t!==e.target.value}))}c(t)}}),Object(v.jsxs)(T.a,{ref:t,children:[Object(v.jsx)(T.a.Header,{"data-testid":"semester-name",children:Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:["".concat(e.name," "),Object(v.jsxs)(S.a,{as:w.a,children:[Object(v.jsx)(E.a,{onClick:function(){b(!0)},"data-testid":"add-course-button",variant:"success",children:"Add Course"}),Object(v.jsx)(S.a.Toggle,{split:!0,variant:"success",id:"dropdown-split-basic","data-testid":"clear-courses-toggle"}),Object(v.jsxs)(S.a.Menu,{children:[Object(v.jsx)(S.a.Item,{onClick:e.clearCourses,"data-testid":"clear-courses-button",children:"Clear Semester"}),Object(v.jsx)(S.a.Item,{style:{color:"#DC3E45"},"data-testid":"remove-semester",onClick:e.removeSemester,children:"Remove Semester"})]})]})]})}),Object(v.jsx)(P.a,{className:"courses","data-testid":"drop-point",children:g.map((function(t,r){return Object(v.jsx)(Y.a,{className:"course-item",children:Object(v.jsx)(V,Object(i.a)(Object(i.a)({},t),{},{onClickEdit:x,removeCourse:e.removeCourse}))},r)}))}),Object(v.jsx)(T.a.Footer,{"data-testid":"credits-count",className:"text-muted",children:"Credits: ".concat(y)})]})]})}));G.displayName="Semester";var H=G,J=r(149);function W(e){var t=Object(J.a)((function(){return{accept:"COURSE",drop:function(t){e.acceptCourse(t.uuid)}}}),[e.acceptCourse]),r=Object(o.a)(t,2)[1];return Object(v.jsx)(H,Object(i.a)({ref:r},e))}function z(e){var t=Object(s.useMemo)((function(){return e.semesters.sort((function(e,t){return e.start.getTime()-t.start.getTime()})).map((function(e,t,r){for(var s=0,n=0;n<t;n++)e.name===r[n].name&&s++;for(var a={name:s>0?"".concat(e.name," ").concat(s+1):e.name,end:e.end,uuid:e.uuid,start:e.start},c=t+1;c<r.length&&e.name===a.name;c++)r[c].name===e.name&&(a.name="".concat(e.name," 1"));return a}))}),[e.semesters]);return Object(v.jsx)(v.Fragment,{children:t.map((function(t,r){return Object(v.jsx)(L.a,{className:"mb-3","data-testid":"semester ".concat(r+1),children:Object(v.jsx)(W,Object(i.a)(Object(i.a)({acceptCourse:function(r){e.moveCourse(r,t.uuid)},courses:e.courses},t),{},{removeSemester:function(){e.removeSemester(t.uuid)},push:e.addCourse,removeCourse:e.removeCourse,clearCourses:function(){e.clearCourses(t.uuid)},requirements:e.requirements}))},t.uuid)}))})}var K=r(105),Q=r(56),X=r(104);function Z(e){var t=Object(s.useRef)(null);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(L.a,{children:Object(v.jsx)(T.a,{bg:"light",className:"add-semester-card",style:{flex:"0 0 auto"},children:Object(v.jsx)(E.a,{"data-testid":"open-semester-form",ref:t,onClick:function(){e.setForm(e.currentForm===e.YearUuid?null:e.YearUuid)},id:"add-semester-button",children:"Add a Semester +"})})}),Object(v.jsx)(L.a,{"data-testid":"form-trigger",children:Object(v.jsx)(X.a,{target:t,placement:"top",show:e.currentForm===e.YearUuid,onHide:function(){e.setForm(null)},rootClose:!0,transition:!1,children:Object(v.jsx)(K.a,{id:"popover-basic","data-testid":"popover",children:Object(v.jsx)(Q.a,{children:Object(v.jsx)("div",{"data-testid":"semester-form",children:e.children})})})})})]})}function $(e){return Object(v.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(v.jsx)("label",{children:"season:"}),Object(v.jsx)("input",{"data-testid":"season-input",type:"text",name:"season",onChange:e.handleInput}),Object(v.jsx)("br",{}),Object(v.jsx)("label",{children:"starts:"}),Object(v.jsx)("input",{"data-testid":"starts-input",type:"date",name:"starts",onChange:e.handleInput}),Object(v.jsx)("br",{}),Object(v.jsx)("label",{children:"ends:"}),Object(v.jsx)("input",{"data-testid":"ends-input",type:"date",name:"ends",onChange:e.handleInput}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{disabled:!e.canSubmit,"data-testid":"submit-button",type:"submit",value:"submit"})]})}function _(e){return Object(v.jsx)("div",{"data-testid":"Year ".concat(e.index),children:Object(v.jsxs)(I,{index:e.index,clearYear:function(){e.clearYear()},removeYear:function(){e.removeYear()},children:[Object(v.jsx)(z,{semesters:e.semesters,courses:e.courses,requirements:e.requirements,removeCourse:e.removeCourse,moveCourse:e.moveCourse,addCourse:e.addCourse,removeSemester:function(t){e.removeSemester(t)},clearCourses:function(t){var r,s=Object(j.a)(e.courses.filter((function(e){return e.semester===t})));try{for(s.s();!(r=s.n()).done;){var n=r.value;e.removeCourse(n.uuid)}}catch(a){s.e(a)}finally{s.f()}}}),Object(v.jsx)(Z,{currentForm:e.currentForm,setForm:e.setForm,YearUuid:e.uuid,children:Object(v.jsx)($,{canSubmit:e.submissionAllowed,handleInput:e.handleSemesterInput,handleSubmit:function(t){e.handleSemesterSubmit(t,e.uuid)}})})]})},e.uuid)}var ee=r(143),te=function(e){return Object(v.jsx)("div",{className:"degree-requirements-wrapper",children:Object(v.jsx)("div",{className:"degree-requirements","data-testid":"degree-requirements",children:Object(v.jsxs)(ee.a,{children:[Object(v.jsx)("thead",{children:Object(v.jsx)("tr",{children:Object(v.jsxs)("th",{children:["Degree Requirements ",Object(v.jsx)("br",{})," (Green = met, Red = unmet)"]})})}),Object(v.jsx)("tbody",{children:e.requirements.map((function(t){return Object(v.jsx)("tr",{className:-1===e.unmetRequirements.indexOf(t)?"met":"unmet","data-testid":"requirement-row-".concat(t),children:Object(v.jsx)("td",{children:t})},t)}))})]})})})},re=r(97),se=r.n(re),ne=function(e){return Object(v.jsx)(E.a,{as:"a",href:"#",onClick:function(){var t="year,semester,course-id,course-name,course-description,course-credits,corequisites,prerequisites\n";e.years.value.forEach((function(r){r.semesters.forEach((function(s){e.courses.courseList.filter((function(e){return e.semester===s.uuid})).forEach((function(e){var n=e.coreqs.join("|"),a=e.prereqs.join("|");t+="".concat(r.index,",").concat(s.name,",").concat(e.id,",").concat(e.name,",").concat(e.description,",").concat(e.credits,",").concat(n,",").concat(a,"\n")}))}))}));var r=new Blob([t],{type:"text/csv;charset=utf-8;"});se.a.saveAs(r,"schedule.csv")},className:"export-button",children:"Export CSV"})};function ae(){var e=(new Date).getFullYear(),t=new Array,r={index:1,uuid:Object(p.a)(),semesters:[]};r.semesters.push({uuid:Object(p.a)(),name:"fall",start:new Date("".concat(e,"-08-31")),end:new Date("".concat(e,"-12-15"))}),r.semesters.push({uuid:Object(p.a)(),name:"spring",start:new Date("".concat(e+1,"-02-07")),end:new Date("".concat(e+1,"-05-26"))});var s={index:2,uuid:Object(p.a)(),semesters:[]};return s.semesters.push({uuid:Object(p.a)(),name:"fall",start:new Date("".concat(e+1,"-08-31")),end:new Date("".concat(e+1,"-12-15"))}),t.push(r),t.push(s),t}function ce(e){var t,r=Object(j.a)(e);try{for(r.s();!(t=r.n()).done;){if(t.value.error)return!0}}catch(s){r.e(s)}finally{r.f()}return!1}function ie(e){var t=h(ae),r=ae,n=void 0,a=m(e.plans.planList,e.scheduleId);if(-1!==a){var c=e.plans.planList[a];void 0!==c.years&&c.years.length>0&&(r=function(){return c.years?c.years:new Array}),void 0!==c.courses&&c.courses.length>0&&c.courses&&(n=c.courses)}t=h(r);var i=C(n),u=Object(s.useState)([]),d=Object(o.a)(u,2),l=d[0],b=d[1],g=Object(s.useState)(null),y=Object(o.a)(g,2),D=y[0],q=y[1],T=Object(s.useState)(null),N=Object(o.a)(T,2),A=N[0],R=N[1],I=Object(s.useState)(null),L=Object(o.a)(I,2),P=L[0],Y=L[1],U=Object(s.useState)(null),F=Object(o.a)(U,2),M=F[0],V=F[1],B=Object(s.useState)(!1),G=Object(o.a)(B,2),H=G[0],J=G[1],W=function(){var e=Object(s.useReducer)(f,void 0,O),t=Object(o.a)(e,2),r=t[0],n=t[1];return{add:function(e){n({type:"ADD",problem:e})},resolve:function(e){n({type:"RESOLVE-TYPE",target:e})},clear:function(e){n({type:"CLEAR",source:e})},value:r}}(),z=function(e){V(e),J(!1),q(null),R(null),Y(null),W.clear("semester-form")},K=function(e){!function(e,t,r,s,n,a,c,i,u){switch(e.target.name){case"season":s(e.target.value);break;case"starts":var o=c.value[m(c.value,i)].semesters,d=k(new Date(e.target.value),null!==r?new Date(r):null,o,"starts");if(null===r)u.clear("semester-form"),1===d.length&&u.add(d[0]);else{u.clear("semester-form");var l,b=Object(j.a)(d);try{for(b.s();!(l=b.n()).done;){var h=l.value;u.add(h)}}catch(y){b.e(y)}finally{b.f()}}n(e.target.value);break;case"ends":var p=c.value[m(c.value,i)].semesters,f=new Date(e.target.value),O=k(null!==t?new Date(t):null,f,p,"ends");if(null===r)u.clear("semester-form"),1===O.length&&u.add(O[0]);else{u.clear("semester-form");var v,x=Object(j.a)(O);try{for(x.s();!(v=x.n()).done;){var g=v.value;u.add(g)}}catch(y){x.e(y)}finally{x.f()}}a(e.target.value)}}(e,A,P,q,R,Y,t,M,W)},Q=function(e,r){!function(e,t,r,s,n,a,c){e.preventDefault(),null!==r&&null!==n&&null!==s&&(c(t,Object(p.a)(),new Date(s),new Date(n),r),a())}(e,r,D,A,P,(function(){z(null)}),t.putSemester)},X=function(e,t){for(var r=0;r<e.length;r++)if(e[r].id===t)return r;return-1};return Object(s.useEffect)((function(){var t,r=e.requirements,s=Array(),n=Object(j.a)(r);try{for(n.s();!(t=n.n()).done;){var a=t.value;-1===X(i.courseList,a)&&s.push(a)}}catch(c){n.e(c)}finally{n.f()}b(s)}),[e.requirements,i.courseList]),Object(s.useEffect)((function(){e.plans.setYears(e.scheduleId,t.value),e.plans.setCourses(e.scheduleId,i.courseList)}),[t.value,i.courseList]),D&&P&&A&&!H&&!ce(W.value)?J(!0):D&&P&&A&&!ce(W.value)||!H||J(!1),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{className:"center ",children:"Course Schedule"}),Object(v.jsx)(ne,{courses:i,years:t}),Object(v.jsx)(te,{requirements:e.requirements,unmetRequirements:l}),Object(v.jsxs)("div",{children:[t.value.map((function(e){return Object(v.jsx)(_,{clearYear:function(){t.clearYears(e.uuid)},removeYear:function(){t.removeYears(e.uuid)},removeSemester:function(r){t.removeSemester(e.uuid,r)},courses:i.courseList,addCourse:i.push,moveCourse:i.move,removeCourse:i.removeCourse,index:e.index,uuid:e.uuid,handleSemesterSubmit:Q,handleSemesterInput:K,semesters:e.semesters,currentForm:M,setForm:z,submissionAllowed:H,requirements:l},e.uuid)})),Object(v.jsx)("div",{className:"center",children:Object(v.jsxs)(S.a,{id:"add-year-dropdown",as:w.a,children:[Object(v.jsx)(E.a,{onClick:function(){t.push(Object(p.a)(),t.value.length+1)},"data-testid":"add-year-button",variant:"success",children:"Add Year +"}),Object(v.jsx)(S.a.Toggle,{split:!0,variant:"success",id:"dropdown-split-basic","data-testid":"clear-remove-years-toggle"}),Object(v.jsxs)(S.a.Menu,{children:[Object(v.jsx)(S.a.Item,{style:{color:"#DC3E45"},onClick:function(){t.clearYears()},"data-testid":"clear-years-button",children:"Clear Years"}),Object(v.jsx)(S.a.Item,{style:{color:"#DC3E45"},onClick:function(){t.removeYears()},"data-testid":"remove-years-button",children:"Remove All Years"})]})]})})]}),Object(v.jsx)(x,{problems:W.value})]})}var ue=r(144),oe=r(95),de=function(e){var t=e.requirements,r=e.onRemoveRequirement,n=e.onAddRequirement,a=Object(s.useState)(""),c=Object(o.a)(a,2),i=c[0],u=c[1];return Object(v.jsxs)(q.a,{className:"flex-column-reverse",children:[Object(v.jsx)("h3",{className:"center",children:"Computer Science Requirements"}),t.map((function(e){return Object(v.jsxs)(N.a,{className:"justify-content-md-center my-3",children:[Object(v.jsxs)(L.a,{xs:!0,lg:"2",children:[" ",e," "]}),Object(v.jsx)(L.a,{xs:!0,lg:"2",children:Object(v.jsx)(E.a,{onClick:function(){return r(e)},"data-testid":"remove-requirement",children:"Remove"})})]},e)})),Object(v.jsx)(N.a,{className:"justify-content-md-center my-3",children:Object(v.jsxs)(ue.a,{className:"mb-3",style:{width:"50%"},children:[Object(v.jsx)(oe.a,{placeholder:"Requirement eg. CISC220",value:i,onChange:function(e){u(e.target.value)},"aria-label":"Text input with button",title:"requirement-input"}),Object(v.jsx)(E.a,{variant:"outline-secondary",title:"Action",id:"segmented-button-dropdown-2",onClick:function(){n(i)},"data-testid":"submit-requirement",children:"Add Course"})]})})]})},le=r(72),je=function(){var e=Object(s.useState)({run:!1,steps:[{title:"Welcome to the Scheduler Page!",disableBeacon:!0,target:".degree-requirements-wrapper",content:"This is the page where you can edit the details of your degree plan."},{title:"Start here with your first year.",disableBeacon:!0,target:".container-fluid",content:"This is where you can begin to add the courses for your degree plan. Enter course name, course ID, description, whether it is a pre/corequisite and a number of credits. Or hit the dropdown to reset/remove the current semester."},{title:"Check which degree requirements are unmet here!",disableBeacon:!0,target:".table",content:"Here, you can find the requirements that you listed on the Modify Requirements page in order to complete your custom degree plan."},{title:"Click on 'Year 1' to get started!",disableBeacon:!0,target:".container-fluid",content:"Click the button by each semester to add courses to it. Good luck!"}]}),t=Object(o.a)(e,2),r=t[0],n=t[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{style:{marginRight:"2%",textAlign:"right"},children:Object(v.jsx)(E.a,{variant:"danger","data-testid":"scheduler-walkthrough-button",onClick:function(){n(Object(i.a)(Object(i.a)({},r),{},{run:!r.run}))},children:"Need Help?"})}),Object(v.jsx)(le.a,{steps:r.steps,run:r.run,continuous:!0,showProgress:!0,showSkipButton:!0,styles:{tooltipContainer:{textAlign:"left"},buttonNext:{backgroundColor:"#ff0044"},buttonBack:{marginRight:10}},locale:{last:"End Tour",skip:"Close Tour"}})]})},me=r(151),be=r(153),he=r(145),pe=function(){var e=Object(s.useState)({run:!1,steps:[{title:"Welcome to the UD CIS Scheduler!",disableBeacon:!0,target:".g-4",content:"This is the main page where you can create, edit, duplicate, and delete individual degree plans."},{title:"Add Degree Plans here!",target:".add-plan-card",content:"This is where you can add a plan to start designing your own CIS degree plan."},{title:"Keep degree requirements up-to-date here!",target:".home-page-reqs",content:"Here, you can modify the requirements needed to complete your custom degree plan."},{title:"More resources available as well!",target:".home-page-resources",content:"Helpful links where you can find the CIS Course Catalog, your UDSIS, and the CISC Department Page."},{title:"Good Luck!",target:".add-plan-card",content:"Add a plan to get started."}]}),t=Object(o.a)(e,2),r=t[0],n=t[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{id:"text","data-testid":"main-page-walkthrough-modal",style:{marginLeft:"2%",marginRight:"auto",padding:"0.5rem",color:"black",opacity:.55,cursor:"pointer"},onClick:function(){return n(Object(i.a)(Object(i.a)({},r),{},{run:!r.run}))},children:Object(v.jsx)("a",{children:"Tutorial"})}),Object(v.jsx)(le.a,{steps:r.steps,run:r.run,continuous:!0,showProgress:!0,showSkipButton:!0,styles:{tooltipContainer:{textAlign:"left"},buttonNext:{backgroundColor:"#ff0044"},buttonBack:{marginRight:10}},locale:{last:"End Tour",skip:"Close Tour"}})]})},fe=function(){return Object(v.jsx)(me.a,{bg:"light",expand:"lg",children:Object(v.jsxs)(q.a,{children:[Object(v.jsx)(me.a.Brand,{as:d.b,to:"/",children:"Fancy Scheduler"}),Object(v.jsx)(me.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(v.jsx)(me.a.Collapse,{id:"basic-navbar-nav","data-testid":"open-bar",children:Object(v.jsxs)(be.a,{className:"me-auto",children:[Object(v.jsx)(be.a.Link,{as:d.b,to:"/",children:"Home"}),Object(v.jsx)(be.a.Link,{as:pe,children:"Tutorial"}),Object(v.jsx)(be.a.Link,{as:d.b,className:"home-page-reqs",to:"/Requirements",children:"Requirements"}),Object(v.jsxs)(he.a,{title:"Resources",className:"home-page-resources",id:"basic-nav-dropdown",children:[Object(v.jsx)(he.a.Item,{href:"https://catalog.udel.edu/",children:"Course Catalog"}),Object(v.jsx)(he.a.Item,{href:"https://my.udel.edu/task/all/udsisstudent",children:"UDSIS"}),Object(v.jsx)(he.a.Item,{href:"https://www.cis.udel.edu/",children:"CISC Department Page"}),Object(v.jsx)(he.a.Divider,{}),Object(v.jsx)(he.a.Item,{href:"https://www.reddit.com/r/catpictures/",children:"Cat Pictures"})]})]})})]})})};r(128);var Oe=function(e){var t=e.plans,r=function(e){return localStorage.setItem("Plans Array",JSON.stringify(t)),Object(v.jsxs)(T.a,{className:"plan-card flex-row",style:{alignItems:"center",justifyContent:"space-evenly",height:"100%"},children:[Object(v.jsxs)(T.a.Body,{style:{flex:"0 1 auto"},children:[Object(v.jsxs)(T.a.Title,{children:["Plan #",e.id," "]}),Object(v.jsx)(T.a.Text,{style:{fontWeight:"lighter",fontSize:"0.85rem"},children:e.date})]}),Object(v.jsxs)(S.a,{as:w.a,children:[Object(v.jsx)(E.a,{as:d.b,to:"Plans/".concat(e.uuid),variant:"success","data-testid":"edit-plan",children:"Edit Plan"}),Object(v.jsx)(S.a.Toggle,{split:!0,variant:"success",id:"dropdown-split-basic","data-testid":"plan-toggle"}),Object(v.jsxs)(S.a.Menu,{children:[Object(v.jsx)(S.a.Item,{onClick:function(){!function(e){t.copyPlan(e.uuid,e)}(e)},"data-testid":"copy-plan",children:"Duplicate Plan"}),Object(v.jsx)(S.a.Item,{style:{color:"#DC3E45"},color:"white",onClick:function(){!function(e){window.confirm("Are you sure you want to delete this plan?")&&t.deletePlan(e.uuid)}(e)},"data-testid":"delete-plan",children:"Remove Plan"})]})]})]})};return Object(v.jsx)(q.a,{children:Object(v.jsxs)(N.a,{xs:1,md:3,className:"g-4",children:[t.planList.map((function(e){return Object(v.jsx)(L.a,{children:r(e)},e.uuid)})),Object(v.jsx)(L.a,{children:Object(v.jsx)(T.a,{bg:"light",className:"add-plan-card",style:{height:"100%"},children:Object(v.jsxs)(E.a,{id:"add-plan-button","data-testid":"add-plan",onClick:function(){t.addPlan(Object(p.a)())},children:["Add a plan ",Object(v.jsx)("br",{})," ",Object(v.jsx)("span",{id:"add-plan-icon",children:" + "})]})})})]})})},ve=function(e){var t=e.plans;return Object(v.jsx)("div",{className:"home",children:Object(v.jsxs)("div",{className:"home-content",children:[Object(v.jsx)("h1",{className:"center mb-5",children:"UD CIS Scheduler"}),Object(v.jsx)(Oe,{plans:t})]})})},xe=r(146),ge=r(103);function ye(e,t){var r=e.map((function(e){return Object(i.a)({},e)}));switch(t.type){case"ADD PLAN":var s=t,n={id:r.length+1,uuid:s.uuid,years:new Array,semesters:new Array,courses:new Array};return r.push(n),r;case"DELETE PLAN":var a=t;return r.filter((function(e){return e.uuid!==a.uuid}));case"COPY PLAN":var c=m(r,t.uuid),u={id:r[c].id,uuid:Object(p.a)(),years:r[c].years,semesters:r[c].semesters,courses:r[c].courses};return r.push(u),r;case"SET YEARS":var o=t,d=m(r,o.uuid),l=o.yearList;return r[d].years=l,r;case"SET SEMESTERS":var j=t,b=m(r,j.uuid),h=j.semesterList;return r[b].semesters=h,r;case"SET COURSES":var f=t,O=m(r,f.uuid),v=f.courseList;return r[O].courses=v,r;default:throw new Error("Unknown action type")}}var Ce=function(e){var t=Object(s.useReducer)(ye,void 0,void 0===e?function(){return new Array}:e),r=Object(o.a)(t,2),n=r[0],a=r[1];return{planList:n,setYears:function(e,t){void 0!==t&&a({type:"SET YEARS",uuid:e,yearList:t})},setCourses:function(e,t){a({type:"SET COURSES",uuid:e,courseList:t})},addPlan:function(e){a({type:"ADD PLAN",uuid:e,planList:Array()})},deletePlan:function(e){a({type:"DELETE PLAN",uuid:e})},copyPlan:function(e,t){a({type:"COPY PLAN",uuid:e,planItem:t})}}},Se=function(e){var t=e.match.params.uuid;return-1!==m(e.plans.planList,t)?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(je,{}),Object(v.jsx)("p",{}),Object(v.jsx)(xe.a,{backend:ge.a,children:Object(v.jsx)(ie,{requirements:e.requirements,plans:e.plans,scheduleId:t})})]}):Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("p",{children:"Page does not exist. Check the URL and try again."})})};var we=function(){var e=Ce(),t=Object(s.useState)(Array("CISC220","CISC275","MATH243")),r=Object(o.a)(t,2),n=r[0],a=r[1],c=function(e){a([].concat(Object(u.a)(n),[e]))},j=function(e){a(n.filter((function(t){return t!==e})))};return Object(v.jsxs)(d.a,{children:[Object(v.jsx)("div",{children:Object(v.jsx)(fe,{})}),Object(v.jsx)(l.c,{children:Object(v.jsxs)(d.a,{children:[Object(v.jsx)(l.a,{path:"/Plans/:uuid",render:function(t){return Object(v.jsx)(Se,Object(i.a)(Object(i.a)({},t),{},{requirements:n,plans:e}))}}),Object(v.jsx)(l.a,{path:"/Requirements",render:function(e){return Object(v.jsx)(de,Object(i.a)(Object(i.a)({},e),{},{requirements:n,onAddRequirement:c,onRemoveRequirement:j}))}}),Object(v.jsx)(l.a,{path:"/",exact:!0,render:function(t){return Object(v.jsx)(ve,Object(i.a)(Object(i.a)({},t),{},{plans:e}))}})]})})]})},Ee=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,154)).then((function(t){var r=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,c=t.getTTFB;r(e),s(e),n(e),a(e),c(e)}))};r(129);document.title="CIS Scheduler",c.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(we,{})}),document.getElementById("root")),Ee()},89:function(e,t,r){}},[[130,1,2]]]);
//# sourceMappingURL=main.520f7abe.chunk.js.map